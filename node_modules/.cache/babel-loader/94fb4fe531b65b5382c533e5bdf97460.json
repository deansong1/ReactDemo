{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u6211\\u7684\\u9879\\u76EE\\\\ReactDemo\\\\src\\\\jspLumb\\\\modelChart.js\";\nimport React from \"react\"; // import jsplumb from 'jsplumb';\n// import $ from 'jquery';\n\nimport { Modal, Form, Input, Button } from 'antd';\n\nclass ModelChart extends React.Component {\n  // 构造函数是唯一可以给 this.state 赋值的地方\n  constructor(props) {\n    super(props);\n    this.formItemLayout = {\n      labelCol: {\n        span: 6\n      }\n    };\n\n    this.handleOk = () => {\n      this.props.onOk();\n    };\n\n    this.handleCancel = () => {\n      this.props.onCancel();\n    };\n\n    this.onFinishFailed = values => {\n      this.props.onFinishFailed(values);\n    };\n\n    this.onFinish = values => {\n      // if (this.state.status === 'error') {\n      this.props.onFinish(values); // }\n    };\n\n    this.state = {\n      testValue: \"\"\n    };\n  }\n\n  //监听props的变化\n  static getDerivedStateFromProps(nextProps, prevState) {\n    // console.log(nextProps, prevState)\n    if (nextProps.propsWatch !== prevState.testValue) {\n      console.log(nextProps, prevState, \"再次触发\");\n      return {\n        testValue: nextProps.propsWatch\n      };\n    }\n\n    return null;\n  } // 挂载阶段\n\n\n  componentDidMount() {\n    console.log(this.props);\n  } // 卸载阶段\n\n\n  componentWillUnmount() {// clearInterval(this.timer) 消除定时器\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      title: this.props.model.title,\n      visible: this.props.model.visible,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      footer: [],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form, Object.assign({}, this.formItemLayout, {\n      name: \"messages\",\n      onFinish: this.onFinish,\n      onFinishFailed: this.onFinishFailed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 23\n      }\n    }), this.props.formInfo.map((item, index) => /*#__PURE__*/React.createElement(Form.Item, {\n      name: item.key,\n      label: item.title // rules={item.rules}\n      ,\n      key: `${item.key}-${index}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Item, {\n      noStyle: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"footer\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"text\",\n      style: {\n        'marginRight': '10px'\n      },\n      onClick: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }\n    }, \"\\u53D6\\u6D88\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 37\n      }\n    }, \"\\u786E\\u5B9A\"))))));\n  }\n\n}\n\nexport default ModelChart;","map":{"version":3,"sources":["D:/我的项目/ReactDemo/src/jspLumb/modelChart.js"],"names":["React","Modal","Form","Input","Button","ModelChart","Component","constructor","props","formItemLayout","labelCol","span","handleOk","onOk","handleCancel","onCancel","onFinishFailed","values","onFinish","state","testValue","getDerivedStateFromProps","nextProps","prevState","propsWatch","console","log","componentDidMount","componentWillUnmount","render","model","title","visible","formInfo","map","item","index","key"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n// import jsplumb from 'jsplumb';\r\n// import $ from 'jquery';\r\nimport { Modal,  Form, Input,Button } from 'antd';\r\n\r\n\r\nclass ModelChart extends React.Component{\r\n   // 构造函数是唯一可以给 this.state 赋值的地方\r\n    constructor(props){  \r\n        super(props)\r\n        this.state = {\r\n            testValue:\"\"\r\n        }   \r\n    }\r\n    formItemLayout = {\r\n        labelCol: {\r\n          span: 6\r\n        },}\r\n    //监听props的变化\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n            // console.log(nextProps, prevState)\r\n            if(nextProps.propsWatch!==prevState.testValue){\r\n                console.log(nextProps, prevState,\"再次触发\")\r\n                return {\r\n                    testValue:nextProps.propsWatch\r\n                }\r\n            }\r\n            return null\r\n    }\r\n    \r\n     // 挂载阶段\r\n     componentDidMount(){\r\n      console.log(this.props)\r\n     }\r\n     // 卸载阶段\r\n     componentWillUnmount(){\r\n            // clearInterval(this.timer) 消除定时器\r\n         \r\n        }\r\n    handleOk=()=>{\r\n        this.props.onOk();\r\n    }\r\n    handleCancel=()=>{\r\n        this.props.onCancel();\r\n    }\r\n     // form表单验证失败函数\r\n    onFinishFailed = (values) => {\r\n            this.props.onFinishFailed(values)\r\n    }\r\n    // form表单验证成功函数\r\n    onFinish = (values) => {\r\n        // if (this.state.status === 'error') {\r\n            this.props.onFinish(values)\r\n                // }\r\n            }\r\n    render(){\r\n          \r\n            return (\r\n                <div >\r\n                    <Modal\r\n                        title={this.props.model.title}\r\n                        visible={this.props.model.visible}\r\n                        onOk={this.handleOk}\r\n                        onCancel={this.handleCancel}\r\n                        footer={[]}\r\n                        >\r\n                      <Form\r\n                        {...this.formItemLayout}\r\n                        name=\"messages\"\r\n                        onFinish={this.onFinish}\r\n                        onFinishFailed={this.onFinishFailed}\r\n                            >\r\n                         {\r\n                        this.props.formInfo.map((item, index) =>  \r\n                            <Form.Item name={item.key}\r\n                                label={item.title}\r\n                                // rules={item.rules}\r\n                                key={`${item.key}-${index}`}>\r\n                                <Input/>\r\n                                </Form.Item>  \r\n                            )}\r\n                            <Form.Item noStyle>\r\n                                <footer>\r\n                                    <Button type=\"text\" style={{'marginRight': '10px'}} onClick={this.handleCancel}>取消</Button>\r\n                                    <Button type=\"primary\" htmlType=\"submit\" >确定</Button>\r\n                               </footer> \r\n                                </Form.Item>  \r\n                        </Form>\r\n                    </Modal>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n export default ModelChart;  \r\n   "]},"metadata":{},"sourceType":"module"}