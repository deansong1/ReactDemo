{"ast":null,"code":"/*!\n * jQuery UI Droppable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n//>>label: Droppable\n//>>group: Interactions\n//>>description: Enables drop targets for draggable elements.\n//>>docs: http://api.jqueryui.com/droppable/\n//>>demos: http://jqueryui.com/droppable/\n(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([\"jquery\", \"./draggable\", \"./mouse\", \"../version\", \"../widget\"], factory);\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n})(function ($) {\n  $.widget(\"ui.droppable\", {\n    version: \"1.12.1\",\n    widgetEventPrefix: \"drop\",\n    options: {\n      accept: \"*\",\n      addClasses: true,\n      greedy: false,\n      scope: \"default\",\n      tolerance: \"intersect\",\n      // Callbacks\n      activate: null,\n      deactivate: null,\n      drop: null,\n      out: null,\n      over: null\n    },\n    _create: function () {\n      var proportions,\n          o = this.options,\n          accept = o.accept;\n      this.isover = false;\n      this.isout = true;\n      this.accept = $.isFunction(accept) ? accept : function (d) {\n        return d.is(accept);\n      };\n\n      this.proportions = function ()\n      /* valueToWrite */\n      {\n        if (arguments.length) {\n          // Store the droppable's proportions\n          proportions = arguments[0];\n        } else {\n          // Retrieve or derive the droppable's proportions\n          return proportions ? proportions : proportions = {\n            width: this.element[0].offsetWidth,\n            height: this.element[0].offsetHeight\n          };\n        }\n      };\n\n      this._addToManager(o.scope);\n\n      o.addClasses && this._addClass(\"ui-droppable\");\n    },\n    _addToManager: function (scope) {\n      // Add the reference and positions to the manager\n      $.ui.ddmanager.droppables[scope] = $.ui.ddmanager.droppables[scope] || [];\n      $.ui.ddmanager.droppables[scope].push(this);\n    },\n    _splice: function (drop) {\n      var i = 0;\n\n      for (; i < drop.length; i++) {\n        if (drop[i] === this) {\n          drop.splice(i, 1);\n        }\n      }\n    },\n    _destroy: function () {\n      var drop = $.ui.ddmanager.droppables[this.options.scope];\n\n      this._splice(drop);\n    },\n    _setOption: function (key, value) {\n      if (key === \"accept\") {\n        this.accept = $.isFunction(value) ? value : function (d) {\n          return d.is(value);\n        };\n      } else if (key === \"scope\") {\n        var drop = $.ui.ddmanager.droppables[this.options.scope];\n\n        this._splice(drop);\n\n        this._addToManager(value);\n      }\n\n      this._super(key, value);\n    },\n    _activate: function (event) {\n      var draggable = $.ui.ddmanager.current;\n\n      this._addActiveClass();\n\n      if (draggable) {\n        this._trigger(\"activate\", event, this.ui(draggable));\n      }\n    },\n    _deactivate: function (event) {\n      var draggable = $.ui.ddmanager.current;\n\n      this._removeActiveClass();\n\n      if (draggable) {\n        this._trigger(\"deactivate\", event, this.ui(draggable));\n      }\n    },\n    _over: function (event) {\n      var draggable = $.ui.ddmanager.current; // Bail if draggable and droppable are same element\n\n      if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {\n        return;\n      }\n\n      if (this.accept.call(this.element[0], draggable.currentItem || draggable.element)) {\n        this._addHoverClass();\n\n        this._trigger(\"over\", event, this.ui(draggable));\n      }\n    },\n    _out: function (event) {\n      var draggable = $.ui.ddmanager.current; // Bail if draggable and droppable are same element\n\n      if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {\n        return;\n      }\n\n      if (this.accept.call(this.element[0], draggable.currentItem || draggable.element)) {\n        this._removeHoverClass();\n\n        this._trigger(\"out\", event, this.ui(draggable));\n      }\n    },\n    _drop: function (event, custom) {\n      var draggable = custom || $.ui.ddmanager.current,\n          childrenIntersection = false; // Bail if draggable and droppable are same element\n\n      if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {\n        return false;\n      }\n\n      this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function () {\n        var inst = $(this).droppable(\"instance\");\n\n        if (inst.options.greedy && !inst.options.disabled && inst.options.scope === draggable.options.scope && inst.accept.call(inst.element[0], draggable.currentItem || draggable.element) && intersect(draggable, $.extend(inst, {\n          offset: inst.element.offset()\n        }), inst.options.tolerance, event)) {\n          childrenIntersection = true;\n          return false;\n        }\n      });\n\n      if (childrenIntersection) {\n        return false;\n      }\n\n      if (this.accept.call(this.element[0], draggable.currentItem || draggable.element)) {\n        this._removeActiveClass();\n\n        this._removeHoverClass();\n\n        this._trigger(\"drop\", event, this.ui(draggable));\n\n        return this.element;\n      }\n\n      return false;\n    },\n    ui: function (c) {\n      return {\n        draggable: c.currentItem || c.element,\n        helper: c.helper,\n        position: c.position,\n        offset: c.positionAbs\n      };\n    },\n    // Extension points just to make backcompat sane and avoid duplicating logic\n    // TODO: Remove in 1.13 along with call to it below\n    _addHoverClass: function () {\n      this._addClass(\"ui-droppable-hover\");\n    },\n    _removeHoverClass: function () {\n      this._removeClass(\"ui-droppable-hover\");\n    },\n    _addActiveClass: function () {\n      this._addClass(\"ui-droppable-active\");\n    },\n    _removeActiveClass: function () {\n      this._removeClass(\"ui-droppable-active\");\n    }\n  });\n\n  var intersect = $.ui.intersect = function () {\n    function isOverAxis(x, reference, size) {\n      return x >= reference && x < reference + size;\n    }\n\n    return function (draggable, droppable, toleranceMode, event) {\n      if (!droppable.offset) {\n        return false;\n      }\n\n      var x1 = (draggable.positionAbs || draggable.position.absolute).left + draggable.margins.left,\n          y1 = (draggable.positionAbs || draggable.position.absolute).top + draggable.margins.top,\n          x2 = x1 + draggable.helperProportions.width,\n          y2 = y1 + draggable.helperProportions.height,\n          l = droppable.offset.left,\n          t = droppable.offset.top,\n          r = l + droppable.proportions().width,\n          b = t + droppable.proportions().height;\n\n      switch (toleranceMode) {\n        case \"fit\":\n          return l <= x1 && x2 <= r && t <= y1 && y2 <= b;\n\n        case \"intersect\":\n          return l < x1 + draggable.helperProportions.width / 2 && // Right Half\n          x2 - draggable.helperProportions.width / 2 < r && // Left Half\n          t < y1 + draggable.helperProportions.height / 2 && // Bottom Half\n          y2 - draggable.helperProportions.height / 2 < b;\n        // Top Half\n\n        case \"pointer\":\n          return isOverAxis(event.pageY, t, droppable.proportions().height) && isOverAxis(event.pageX, l, droppable.proportions().width);\n\n        case \"touch\":\n          return (y1 >= t && y1 <= b || // Top edge touching\n          y2 >= t && y2 <= b || // Bottom edge touching\n          y1 < t && y2 > b // Surrounded vertically\n          ) && (x1 >= l && x1 <= r || // Left edge touching\n          x2 >= l && x2 <= r || // Right edge touching\n          x1 < l && x2 > r // Surrounded horizontally\n          );\n\n        default:\n          return false;\n      }\n    };\n  }();\n  /*\n  \tThis manager tracks offsets of draggables and droppables\n  */\n\n\n  $.ui.ddmanager = {\n    current: null,\n    droppables: {\n      \"default\": []\n    },\n    prepareOffsets: function (t, event) {\n      var i,\n          j,\n          m = $.ui.ddmanager.droppables[t.options.scope] || [],\n          type = event ? event.type : null,\n          // workaround for #2317\n      list = (t.currentItem || t.element).find(\":data(ui-droppable)\").addBack();\n\n      droppablesLoop: for (i = 0; i < m.length; i++) {\n        // No disabled and non-accepted\n        if (m[i].options.disabled || t && !m[i].accept.call(m[i].element[0], t.currentItem || t.element)) {\n          continue;\n        } // Filter out elements in the current dragged item\n\n\n        for (j = 0; j < list.length; j++) {\n          if (list[j] === m[i].element[0]) {\n            m[i].proportions().height = 0;\n            continue droppablesLoop;\n          }\n        }\n\n        m[i].visible = m[i].element.css(\"display\") !== \"none\";\n\n        if (!m[i].visible) {\n          continue;\n        } // Activate the droppable if used directly from draggables\n\n\n        if (type === \"mousedown\") {\n          m[i]._activate.call(m[i], event);\n        }\n\n        m[i].offset = m[i].element.offset();\n        m[i].proportions({\n          width: m[i].element[0].offsetWidth,\n          height: m[i].element[0].offsetHeight\n        });\n      }\n    },\n    drop: function (draggable, event) {\n      var dropped = false; // Create a copy of the droppables in case the list changes during the drop (#9116)\n\n      $.each(($.ui.ddmanager.droppables[draggable.options.scope] || []).slice(), function () {\n        if (!this.options) {\n          return;\n        }\n\n        if (!this.options.disabled && this.visible && intersect(draggable, this, this.options.tolerance, event)) {\n          dropped = this._drop.call(this, event) || dropped;\n        }\n\n        if (!this.options.disabled && this.visible && this.accept.call(this.element[0], draggable.currentItem || draggable.element)) {\n          this.isout = true;\n          this.isover = false;\n\n          this._deactivate.call(this, event);\n        }\n      });\n      return dropped;\n    },\n    dragStart: function (draggable, event) {\n      // Listen for scrolling so that if the dragging causes scrolling the position of the\n      // droppables can be recalculated (see #5003)\n      draggable.element.parentsUntil(\"body\").on(\"scroll.droppable\", function () {\n        if (!draggable.options.refreshPositions) {\n          $.ui.ddmanager.prepareOffsets(draggable, event);\n        }\n      });\n    },\n    drag: function (draggable, event) {\n      // If you have a highly dynamic page, you might try this option. It renders positions\n      // every time you move the mouse.\n      if (draggable.options.refreshPositions) {\n        $.ui.ddmanager.prepareOffsets(draggable, event);\n      } // Run through all droppables and check their positions based on specific tolerance options\n\n\n      $.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function () {\n        if (this.options.disabled || this.greedyChild || !this.visible) {\n          return;\n        }\n\n        var parentInstance,\n            scope,\n            parent,\n            intersects = intersect(draggable, this, this.options.tolerance, event),\n            c = !intersects && this.isover ? \"isout\" : intersects && !this.isover ? \"isover\" : null;\n\n        if (!c) {\n          return;\n        }\n\n        if (this.options.greedy) {\n          // find droppable parents with same scope\n          scope = this.options.scope;\n          parent = this.element.parents(\":data(ui-droppable)\").filter(function () {\n            return $(this).droppable(\"instance\").options.scope === scope;\n          });\n\n          if (parent.length) {\n            parentInstance = $(parent[0]).droppable(\"instance\");\n            parentInstance.greedyChild = c === \"isover\";\n          }\n        } // We just moved into a greedy child\n\n\n        if (parentInstance && c === \"isover\") {\n          parentInstance.isover = false;\n          parentInstance.isout = true;\n\n          parentInstance._out.call(parentInstance, event);\n        }\n\n        this[c] = true;\n        this[c === \"isout\" ? \"isover\" : \"isout\"] = false;\n        this[c === \"isover\" ? \"_over\" : \"_out\"].call(this, event); // We just moved out of a greedy child\n\n        if (parentInstance && c === \"isout\") {\n          parentInstance.isout = false;\n          parentInstance.isover = true;\n\n          parentInstance._over.call(parentInstance, event);\n        }\n      });\n    },\n    dragStop: function (draggable, event) {\n      draggable.element.parentsUntil(\"body\").off(\"scroll.droppable\"); // Call prepareOffsets one final time since IE does not fire return scroll events when\n      // overflow was caused by drag (see #5003)\n\n      if (!draggable.options.refreshPositions) {\n        $.ui.ddmanager.prepareOffsets(draggable, event);\n      }\n    }\n  }; // DEPRECATED\n  // TODO: switch return back to widget declaration at top of file when this is removed\n\n  if ($.uiBackCompat !== false) {\n    // Backcompat for activeClass and hoverClass options\n    $.widget(\"ui.droppable\", $.ui.droppable, {\n      options: {\n        hoverClass: false,\n        activeClass: false\n      },\n      _addActiveClass: function () {\n        this._super();\n\n        if (this.options.activeClass) {\n          this.element.addClass(this.options.activeClass);\n        }\n      },\n      _removeActiveClass: function () {\n        this._super();\n\n        if (this.options.activeClass) {\n          this.element.removeClass(this.options.activeClass);\n        }\n      },\n      _addHoverClass: function () {\n        this._super();\n\n        if (this.options.hoverClass) {\n          this.element.addClass(this.options.hoverClass);\n        }\n      },\n      _removeHoverClass: function () {\n        this._super();\n\n        if (this.options.hoverClass) {\n          this.element.removeClass(this.options.hoverClass);\n        }\n      }\n    });\n  }\n\n  return $.ui.droppable;\n});","map":{"version":3,"sources":["D:/我的项目/ReactDemo/node_modules/jquery-ui/ui/widgets/droppable.js"],"names":["factory","define","amd","jQuery","$","widget","version","widgetEventPrefix","options","accept","addClasses","greedy","scope","tolerance","activate","deactivate","drop","out","over","_create","proportions","o","isover","isout","isFunction","d","is","arguments","length","width","element","offsetWidth","height","offsetHeight","_addToManager","_addClass","ui","ddmanager","droppables","push","_splice","i","splice","_destroy","_setOption","key","value","_super","_activate","event","draggable","current","_addActiveClass","_trigger","_deactivate","_removeActiveClass","_over","currentItem","call","_addHoverClass","_out","_removeHoverClass","_drop","custom","childrenIntersection","find","not","each","inst","droppable","disabled","intersect","extend","offset","c","helper","position","positionAbs","_removeClass","isOverAxis","x","reference","size","toleranceMode","x1","absolute","left","margins","y1","top","x2","helperProportions","y2","l","t","r","b","pageY","pageX","prepareOffsets","j","m","type","list","addBack","droppablesLoop","visible","css","dropped","slice","dragStart","parentsUntil","on","refreshPositions","drag","greedyChild","parentInstance","parent","intersects","parents","filter","dragStop","off","uiBackCompat","hoverClass","activeClass","addClass","removeClass"],"mappings":"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","sourcesContent":["/*!\n * jQuery UI Droppable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Droppable\n//>>group: Interactions\n//>>description: Enables drop targets for draggable elements.\n//>>docs: http://api.jqueryui.com/droppable/\n//>>demos: http://jqueryui.com/droppable/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./draggable\",\n\t\t\t\"./mouse\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.droppable\", {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"drop\",\n\toptions: {\n\t\taccept: \"*\",\n\t\taddClasses: true,\n\t\tgreedy: false,\n\t\tscope: \"default\",\n\t\ttolerance: \"intersect\",\n\n\t\t// Callbacks\n\t\tactivate: null,\n\t\tdeactivate: null,\n\t\tdrop: null,\n\t\tout: null,\n\t\tover: null\n\t},\n\t_create: function() {\n\n\t\tvar proportions,\n\t\t\to = this.options,\n\t\t\taccept = o.accept;\n\n\t\tthis.isover = false;\n\t\tthis.isout = true;\n\n\t\tthis.accept = $.isFunction( accept ) ? accept : function( d ) {\n\t\t\treturn d.is( accept );\n\t\t};\n\n\t\tthis.proportions = function( /* valueToWrite */ ) {\n\t\t\tif ( arguments.length ) {\n\n\t\t\t\t// Store the droppable's proportions\n\t\t\t\tproportions = arguments[ 0 ];\n\t\t\t} else {\n\n\t\t\t\t// Retrieve or derive the droppable's proportions\n\t\t\t\treturn proportions ?\n\t\t\t\t\tproportions :\n\t\t\t\t\tproportions = {\n\t\t\t\t\t\twidth: this.element[ 0 ].offsetWidth,\n\t\t\t\t\t\theight: this.element[ 0 ].offsetHeight\n\t\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\tthis._addToManager( o.scope );\n\n\t\to.addClasses && this._addClass( \"ui-droppable\" );\n\n\t},\n\n\t_addToManager: function( scope ) {\n\n\t\t// Add the reference and positions to the manager\n\t\t$.ui.ddmanager.droppables[ scope ] = $.ui.ddmanager.droppables[ scope ] || [];\n\t\t$.ui.ddmanager.droppables[ scope ].push( this );\n\t},\n\n\t_splice: function( drop ) {\n\t\tvar i = 0;\n\t\tfor ( ; i < drop.length; i++ ) {\n\t\t\tif ( drop[ i ] === this ) {\n\t\t\t\tdrop.splice( i, 1 );\n\t\t\t}\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tvar drop = $.ui.ddmanager.droppables[ this.options.scope ];\n\n\t\tthis._splice( drop );\n\t},\n\n\t_setOption: function( key, value ) {\n\n\t\tif ( key === \"accept\" ) {\n\t\t\tthis.accept = $.isFunction( value ) ? value : function( d ) {\n\t\t\t\treturn d.is( value );\n\t\t\t};\n\t\t} else if ( key === \"scope\" ) {\n\t\t\tvar drop = $.ui.ddmanager.droppables[ this.options.scope ];\n\n\t\t\tthis._splice( drop );\n\t\t\tthis._addToManager( value );\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\t_activate: function( event ) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\tthis._addActiveClass();\n\t\tif ( draggable ) {\n\t\t\tthis._trigger( \"activate\", event, this.ui( draggable ) );\n\t\t}\n\t},\n\n\t_deactivate: function( event ) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\tthis._removeActiveClass();\n\t\tif ( draggable ) {\n\t\t\tthis._trigger( \"deactivate\", event, this.ui( draggable ) );\n\t\t}\n\t},\n\n\t_over: function( event ) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif ( !draggable || ( draggable.currentItem ||\n\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.accept.call( this.element[ 0 ], ( draggable.currentItem ||\n\t\t\t\tdraggable.element ) ) ) {\n\t\t\tthis._addHoverClass();\n\t\t\tthis._trigger( \"over\", event, this.ui( draggable ) );\n\t\t}\n\n\t},\n\n\t_out: function( event ) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif ( !draggable || ( draggable.currentItem ||\n\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.accept.call( this.element[ 0 ], ( draggable.currentItem ||\n\t\t\t\tdraggable.element ) ) ) {\n\t\t\tthis._removeHoverClass();\n\t\t\tthis._trigger( \"out\", event, this.ui( draggable ) );\n\t\t}\n\n\t},\n\n\t_drop: function( event, custom ) {\n\n\t\tvar draggable = custom || $.ui.ddmanager.current,\n\t\t\tchildrenIntersection = false;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif ( !draggable || ( draggable.currentItem ||\n\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.element\n\t\t\t.find( \":data(ui-droppable)\" )\n\t\t\t.not( \".ui-draggable-dragging\" )\n\t\t\t.each( function() {\n\t\t\t\tvar inst = $( this ).droppable( \"instance\" );\n\t\t\t\tif (\n\t\t\t\t\tinst.options.greedy &&\n\t\t\t\t\t!inst.options.disabled &&\n\t\t\t\t\tinst.options.scope === draggable.options.scope &&\n\t\t\t\t\tinst.accept.call(\n\t\t\t\t\t\tinst.element[ 0 ], ( draggable.currentItem || draggable.element )\n\t\t\t\t\t) &&\n\t\t\t\t\tintersect(\n\t\t\t\t\t\tdraggable,\n\t\t\t\t\t\t$.extend( inst, { offset: inst.element.offset() } ),\n\t\t\t\t\t\tinst.options.tolerance, event\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tchildrenIntersection = true;\n\t\t\t\t\treturn false; }\n\t\t\t} );\n\t\tif ( childrenIntersection ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( this.accept.call( this.element[ 0 ],\n\t\t\t\t( draggable.currentItem || draggable.element ) ) ) {\n\t\t\tthis._removeActiveClass();\n\t\t\tthis._removeHoverClass();\n\n\t\t\tthis._trigger( \"drop\", event, this.ui( draggable ) );\n\t\t\treturn this.element;\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tui: function( c ) {\n\t\treturn {\n\t\t\tdraggable: ( c.currentItem || c.element ),\n\t\t\thelper: c.helper,\n\t\t\tposition: c.position,\n\t\t\toffset: c.positionAbs\n\t\t};\n\t},\n\n\t// Extension points just to make backcompat sane and avoid duplicating logic\n\t// TODO: Remove in 1.13 along with call to it below\n\t_addHoverClass: function() {\n\t\tthis._addClass( \"ui-droppable-hover\" );\n\t},\n\n\t_removeHoverClass: function() {\n\t\tthis._removeClass( \"ui-droppable-hover\" );\n\t},\n\n\t_addActiveClass: function() {\n\t\tthis._addClass( \"ui-droppable-active\" );\n\t},\n\n\t_removeActiveClass: function() {\n\t\tthis._removeClass( \"ui-droppable-active\" );\n\t}\n} );\n\nvar intersect = $.ui.intersect = ( function() {\n\tfunction isOverAxis( x, reference, size ) {\n\t\treturn ( x >= reference ) && ( x < ( reference + size ) );\n\t}\n\n\treturn function( draggable, droppable, toleranceMode, event ) {\n\n\t\tif ( !droppable.offset ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar x1 = ( draggable.positionAbs ||\n\t\t\t\tdraggable.position.absolute ).left + draggable.margins.left,\n\t\t\ty1 = ( draggable.positionAbs ||\n\t\t\t\tdraggable.position.absolute ).top + draggable.margins.top,\n\t\t\tx2 = x1 + draggable.helperProportions.width,\n\t\t\ty2 = y1 + draggable.helperProportions.height,\n\t\t\tl = droppable.offset.left,\n\t\t\tt = droppable.offset.top,\n\t\t\tr = l + droppable.proportions().width,\n\t\t\tb = t + droppable.proportions().height;\n\n\t\tswitch ( toleranceMode ) {\n\t\tcase \"fit\":\n\t\t\treturn ( l <= x1 && x2 <= r && t <= y1 && y2 <= b );\n\t\tcase \"intersect\":\n\t\t\treturn ( l < x1 + ( draggable.helperProportions.width / 2 ) && // Right Half\n\t\t\t\tx2 - ( draggable.helperProportions.width / 2 ) < r && // Left Half\n\t\t\t\tt < y1 + ( draggable.helperProportions.height / 2 ) && // Bottom Half\n\t\t\t\ty2 - ( draggable.helperProportions.height / 2 ) < b ); // Top Half\n\t\tcase \"pointer\":\n\t\t\treturn isOverAxis( event.pageY, t, droppable.proportions().height ) &&\n\t\t\t\tisOverAxis( event.pageX, l, droppable.proportions().width );\n\t\tcase \"touch\":\n\t\t\treturn (\n\t\t\t\t( y1 >= t && y1 <= b ) || // Top edge touching\n\t\t\t\t( y2 >= t && y2 <= b ) || // Bottom edge touching\n\t\t\t\t( y1 < t && y2 > b ) // Surrounded vertically\n\t\t\t) && (\n\t\t\t\t( x1 >= l && x1 <= r ) || // Left edge touching\n\t\t\t\t( x2 >= l && x2 <= r ) || // Right edge touching\n\t\t\t\t( x1 < l && x2 > r ) // Surrounded horizontally\n\t\t\t);\n\t\tdefault:\n\t\t\treturn false;\n\t\t}\n\t};\n} )();\n\n/*\n\tThis manager tracks offsets of draggables and droppables\n*/\n$.ui.ddmanager = {\n\tcurrent: null,\n\tdroppables: { \"default\": [] },\n\tprepareOffsets: function( t, event ) {\n\n\t\tvar i, j,\n\t\t\tm = $.ui.ddmanager.droppables[ t.options.scope ] || [],\n\t\t\ttype = event ? event.type : null, // workaround for #2317\n\t\t\tlist = ( t.currentItem || t.element ).find( \":data(ui-droppable)\" ).addBack();\n\n\t\tdroppablesLoop: for ( i = 0; i < m.length; i++ ) {\n\n\t\t\t// No disabled and non-accepted\n\t\t\tif ( m[ i ].options.disabled || ( t && !m[ i ].accept.call( m[ i ].element[ 0 ],\n\t\t\t\t\t( t.currentItem || t.element ) ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Filter out elements in the current dragged item\n\t\t\tfor ( j = 0; j < list.length; j++ ) {\n\t\t\t\tif ( list[ j ] === m[ i ].element[ 0 ] ) {\n\t\t\t\t\tm[ i ].proportions().height = 0;\n\t\t\t\t\tcontinue droppablesLoop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tm[ i ].visible = m[ i ].element.css( \"display\" ) !== \"none\";\n\t\t\tif ( !m[ i ].visible ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Activate the droppable if used directly from draggables\n\t\t\tif ( type === \"mousedown\" ) {\n\t\t\t\tm[ i ]._activate.call( m[ i ], event );\n\t\t\t}\n\n\t\t\tm[ i ].offset = m[ i ].element.offset();\n\t\t\tm[ i ].proportions( {\n\t\t\t\twidth: m[ i ].element[ 0 ].offsetWidth,\n\t\t\t\theight: m[ i ].element[ 0 ].offsetHeight\n\t\t\t} );\n\n\t\t}\n\n\t},\n\tdrop: function( draggable, event ) {\n\n\t\tvar dropped = false;\n\n\t\t// Create a copy of the droppables in case the list changes during the drop (#9116)\n\t\t$.each( ( $.ui.ddmanager.droppables[ draggable.options.scope ] || [] ).slice(), function() {\n\n\t\t\tif ( !this.options ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( !this.options.disabled && this.visible &&\n\t\t\t\t\tintersect( draggable, this, this.options.tolerance, event ) ) {\n\t\t\t\tdropped = this._drop.call( this, event ) || dropped;\n\t\t\t}\n\n\t\t\tif ( !this.options.disabled && this.visible && this.accept.call( this.element[ 0 ],\n\t\t\t\t\t( draggable.currentItem || draggable.element ) ) ) {\n\t\t\t\tthis.isout = true;\n\t\t\t\tthis.isover = false;\n\t\t\t\tthis._deactivate.call( this, event );\n\t\t\t}\n\n\t\t} );\n\t\treturn dropped;\n\n\t},\n\tdragStart: function( draggable, event ) {\n\n\t\t// Listen for scrolling so that if the dragging causes scrolling the position of the\n\t\t// droppables can be recalculated (see #5003)\n\t\tdraggable.element.parentsUntil( \"body\" ).on( \"scroll.droppable\", function() {\n\t\t\tif ( !draggable.options.refreshPositions ) {\n\t\t\t\t$.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t\t}\n\t\t} );\n\t},\n\tdrag: function( draggable, event ) {\n\n\t\t// If you have a highly dynamic page, you might try this option. It renders positions\n\t\t// every time you move the mouse.\n\t\tif ( draggable.options.refreshPositions ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t}\n\n\t\t// Run through all droppables and check their positions based on specific tolerance options\n\t\t$.each( $.ui.ddmanager.droppables[ draggable.options.scope ] || [], function() {\n\n\t\t\tif ( this.options.disabled || this.greedyChild || !this.visible ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar parentInstance, scope, parent,\n\t\t\t\tintersects = intersect( draggable, this, this.options.tolerance, event ),\n\t\t\t\tc = !intersects && this.isover ?\n\t\t\t\t\t\"isout\" :\n\t\t\t\t\t( intersects && !this.isover ? \"isover\" : null );\n\t\t\tif ( !c ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this.options.greedy ) {\n\n\t\t\t\t// find droppable parents with same scope\n\t\t\t\tscope = this.options.scope;\n\t\t\t\tparent = this.element.parents( \":data(ui-droppable)\" ).filter( function() {\n\t\t\t\t\treturn $( this ).droppable( \"instance\" ).options.scope === scope;\n\t\t\t\t} );\n\n\t\t\t\tif ( parent.length ) {\n\t\t\t\t\tparentInstance = $( parent[ 0 ] ).droppable( \"instance\" );\n\t\t\t\t\tparentInstance.greedyChild = ( c === \"isover\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// We just moved into a greedy child\n\t\t\tif ( parentInstance && c === \"isover\" ) {\n\t\t\t\tparentInstance.isover = false;\n\t\t\t\tparentInstance.isout = true;\n\t\t\t\tparentInstance._out.call( parentInstance, event );\n\t\t\t}\n\n\t\t\tthis[ c ] = true;\n\t\t\tthis[ c === \"isout\" ? \"isover\" : \"isout\" ] = false;\n\t\t\tthis[ c === \"isover\" ? \"_over\" : \"_out\" ].call( this, event );\n\n\t\t\t// We just moved out of a greedy child\n\t\t\tif ( parentInstance && c === \"isout\" ) {\n\t\t\t\tparentInstance.isout = false;\n\t\t\t\tparentInstance.isover = true;\n\t\t\t\tparentInstance._over.call( parentInstance, event );\n\t\t\t}\n\t\t} );\n\n\t},\n\tdragStop: function( draggable, event ) {\n\t\tdraggable.element.parentsUntil( \"body\" ).off( \"scroll.droppable\" );\n\n\t\t// Call prepareOffsets one final time since IE does not fire return scroll events when\n\t\t// overflow was caused by drag (see #5003)\n\t\tif ( !draggable.options.refreshPositions ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t}\n\t}\n};\n\n// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif ( $.uiBackCompat !== false ) {\n\n\t// Backcompat for activeClass and hoverClass options\n\t$.widget( \"ui.droppable\", $.ui.droppable, {\n\t\toptions: {\n\t\t\thoverClass: false,\n\t\t\tactiveClass: false\n\t\t},\n\t\t_addActiveClass: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.activeClass ) {\n\t\t\t\tthis.element.addClass( this.options.activeClass );\n\t\t\t}\n\t\t},\n\t\t_removeActiveClass: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.activeClass ) {\n\t\t\t\tthis.element.removeClass( this.options.activeClass );\n\t\t\t}\n\t\t},\n\t\t_addHoverClass: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.hoverClass ) {\n\t\t\t\tthis.element.addClass( this.options.hoverClass );\n\t\t\t}\n\t\t},\n\t\t_removeHoverClass: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.hoverClass ) {\n\t\t\t\tthis.element.removeClass( this.options.hoverClass );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nreturn $.ui.droppable;\n\n} ) );\n"]},"metadata":{},"sourceType":"script"}