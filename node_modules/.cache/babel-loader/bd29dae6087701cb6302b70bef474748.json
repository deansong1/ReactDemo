{"ast":null,"code":"/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n//>>label: Draggable\n//>>group: Interactions\n//>>description: Enables dragging functionality for any element.\n//>>docs: http://api.jqueryui.com/draggable/\n//>>demos: http://jqueryui.com/draggable/\n//>>css.structure: ../../themes/base/draggable.css\n(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([\"jquery\", \"./mouse\", \"../data\", \"../plugin\", \"../safe-active-element\", \"../safe-blur\", \"../scroll-parent\", \"../version\", \"../widget\"], factory);\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n})(function ($) {\n  $.widget(\"ui.draggable\", $.ui.mouse, {\n    version: \"1.12.1\",\n    widgetEventPrefix: \"drag\",\n    options: {\n      addClasses: true,\n      appendTo: \"parent\",\n      axis: false,\n      connectToSortable: false,\n      containment: false,\n      cursor: \"auto\",\n      cursorAt: false,\n      grid: false,\n      handle: false,\n      helper: \"original\",\n      iframeFix: false,\n      opacity: false,\n      refreshPositions: false,\n      revert: false,\n      revertDuration: 500,\n      scope: \"default\",\n      scroll: true,\n      scrollSensitivity: 20,\n      scrollSpeed: 20,\n      snap: false,\n      snapMode: \"both\",\n      snapTolerance: 20,\n      stack: false,\n      zIndex: false,\n      // Callbacks\n      drag: null,\n      start: null,\n      stop: null\n    },\n    _create: function () {\n      if (this.options.helper === \"original\") {\n        this._setPositionRelative();\n      }\n\n      if (this.options.addClasses) {\n        this._addClass(\"ui-draggable\");\n      }\n\n      this._setHandleClassName();\n\n      this._mouseInit();\n    },\n    _setOption: function (key, value) {\n      this._super(key, value);\n\n      if (key === \"handle\") {\n        this._removeHandleClassName();\n\n        this._setHandleClassName();\n      }\n    },\n    _destroy: function () {\n      if ((this.helper || this.element).is(\".ui-draggable-dragging\")) {\n        this.destroyOnClear = true;\n        return;\n      }\n\n      this._removeHandleClassName();\n\n      this._mouseDestroy();\n    },\n    _mouseCapture: function (event) {\n      var o = this.options; // Among others, prevent a drag on a resizable-handle\n\n      if (this.helper || o.disabled || $(event.target).closest(\".ui-resizable-handle\").length > 0) {\n        return false;\n      } //Quit if we're not on a valid handle\n\n\n      this.handle = this._getHandle(event);\n\n      if (!this.handle) {\n        return false;\n      }\n\n      this._blurActiveElement(event);\n\n      this._blockFrames(o.iframeFix === true ? \"iframe\" : o.iframeFix);\n\n      return true;\n    },\n    _blockFrames: function (selector) {\n      this.iframeBlocks = this.document.find(selector).map(function () {\n        var iframe = $(this);\n        return $(\"<div>\").css(\"position\", \"absolute\").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0];\n      });\n    },\n    _unblockFrames: function () {\n      if (this.iframeBlocks) {\n        this.iframeBlocks.remove();\n        delete this.iframeBlocks;\n      }\n    },\n    _blurActiveElement: function (event) {\n      var activeElement = $.ui.safeActiveElement(this.document[0]),\n          target = $(event.target); // Don't blur if the event occurred on an element that is within\n      // the currently focused element\n      // See #10527, #12472\n\n      if (target.closest(activeElement).length) {\n        return;\n      } // Blur any element that currently has focus, see #4261\n\n\n      $.ui.safeBlur(activeElement);\n    },\n    _mouseStart: function (event) {\n      var o = this.options; //Create and append the visible helper\n\n      this.helper = this._createHelper(event);\n\n      this._addClass(this.helper, \"ui-draggable-dragging\"); //Cache the helper size\n\n\n      this._cacheHelperProportions(); //If ddmanager is used for droppables, set the global draggable\n\n\n      if ($.ui.ddmanager) {\n        $.ui.ddmanager.current = this;\n      }\n      /*\n       * - Position generation -\n       * This block generates everything position related - it's the core of draggables.\n       */\n      //Cache the margins of the original element\n\n\n      this._cacheMargins(); //Store the helper's css position\n\n\n      this.cssPosition = this.helper.css(\"position\");\n      this.scrollParent = this.helper.scrollParent(true);\n      this.offsetParent = this.helper.offsetParent();\n      this.hasFixedAncestor = this.helper.parents().filter(function () {\n        return $(this).css(\"position\") === \"fixed\";\n      }).length > 0; //The element's absolute position on the page minus margins\n\n      this.positionAbs = this.element.offset();\n\n      this._refreshOffsets(event); //Generate the original position\n\n\n      this.originalPosition = this.position = this._generatePosition(event, false);\n      this.originalPageX = event.pageX;\n      this.originalPageY = event.pageY; //Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\n      o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt); //Set a containment if given in the options\n\n      this._setContainment(); //Trigger event + callbacks\n\n\n      if (this._trigger(\"start\", event) === false) {\n        this._clear();\n\n        return false;\n      } //Recache the helper size\n\n\n      this._cacheHelperProportions(); //Prepare the droppable offsets\n\n\n      if ($.ui.ddmanager && !o.dropBehaviour) {\n        $.ui.ddmanager.prepareOffsets(this, event);\n      } // Execute the drag once - this causes the helper not to be visible before getting its\n      // correct position\n\n\n      this._mouseDrag(event, true); // If the ddmanager is used for droppables, inform the manager that dragging has started\n      // (see #5003)\n\n\n      if ($.ui.ddmanager) {\n        $.ui.ddmanager.dragStart(this, event);\n      }\n\n      return true;\n    },\n    _refreshOffsets: function (event) {\n      this.offset = {\n        top: this.positionAbs.top - this.margins.top,\n        left: this.positionAbs.left - this.margins.left,\n        scroll: false,\n        parent: this._getParentOffset(),\n        relative: this._getRelativeOffset()\n      };\n      this.offset.click = {\n        left: event.pageX - this.offset.left,\n        top: event.pageY - this.offset.top\n      };\n    },\n    _mouseDrag: function (event, noPropagation) {\n      // reset any necessary cached properties (see #5009)\n      if (this.hasFixedAncestor) {\n        this.offset.parent = this._getParentOffset();\n      } //Compute the helpers position\n\n\n      this.position = this._generatePosition(event, true);\n      this.positionAbs = this._convertPositionTo(\"absolute\"); //Call plugins and callbacks and use the resulting position if something is returned\n\n      if (!noPropagation) {\n        var ui = this._uiHash();\n\n        if (this._trigger(\"drag\", event, ui) === false) {\n          this._mouseUp(new $.Event(\"mouseup\", event));\n\n          return false;\n        }\n\n        this.position = ui.position;\n      }\n\n      this.helper[0].style.left = this.position.left + \"px\";\n      this.helper[0].style.top = this.position.top + \"px\";\n\n      if ($.ui.ddmanager) {\n        $.ui.ddmanager.drag(this, event);\n      }\n\n      return false;\n    },\n    _mouseStop: function (event) {\n      //If we are using droppables, inform the manager about the drop\n      var that = this,\n          dropped = false;\n\n      if ($.ui.ddmanager && !this.options.dropBehaviour) {\n        dropped = $.ui.ddmanager.drop(this, event);\n      } //if a drop comes from outside (a sortable)\n\n\n      if (this.dropped) {\n        dropped = this.dropped;\n        this.dropped = false;\n      }\n\n      if (this.options.revert === \"invalid\" && !dropped || this.options.revert === \"valid\" && dropped || this.options.revert === true || $.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped)) {\n        $(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {\n          if (that._trigger(\"stop\", event) !== false) {\n            that._clear();\n          }\n        });\n      } else {\n        if (this._trigger(\"stop\", event) !== false) {\n          this._clear();\n        }\n      }\n\n      return false;\n    },\n    _mouseUp: function (event) {\n      this._unblockFrames(); // If the ddmanager is used for droppables, inform the manager that dragging has stopped\n      // (see #5003)\n\n\n      if ($.ui.ddmanager) {\n        $.ui.ddmanager.dragStop(this, event);\n      } // Only need to focus if the event occurred on the draggable itself, see #10527\n\n\n      if (this.handleElement.is(event.target)) {\n        // The interaction is over; whether or not the click resulted in a drag,\n        // focus the element\n        this.element.trigger(\"focus\");\n      }\n\n      return $.ui.mouse.prototype._mouseUp.call(this, event);\n    },\n    cancel: function () {\n      if (this.helper.is(\".ui-draggable-dragging\")) {\n        this._mouseUp(new $.Event(\"mouseup\", {\n          target: this.element[0]\n        }));\n      } else {\n        this._clear();\n      }\n\n      return this;\n    },\n    _getHandle: function (event) {\n      return this.options.handle ? !!$(event.target).closest(this.element.find(this.options.handle)).length : true;\n    },\n    _setHandleClassName: function () {\n      this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element;\n\n      this._addClass(this.handleElement, \"ui-draggable-handle\");\n    },\n    _removeHandleClassName: function () {\n      this._removeClass(this.handleElement, \"ui-draggable-handle\");\n    },\n    _createHelper: function (event) {\n      var o = this.options,\n          helperIsFunction = $.isFunction(o.helper),\n          helper = helperIsFunction ? $(o.helper.apply(this.element[0], [event])) : o.helper === \"clone\" ? this.element.clone().removeAttr(\"id\") : this.element;\n\n      if (!helper.parents(\"body\").length) {\n        helper.appendTo(o.appendTo === \"parent\" ? this.element[0].parentNode : o.appendTo);\n      } // Http://bugs.jqueryui.com/ticket/9446\n      // a helper function can return the original element\n      // which wouldn't have been set to relative in _create\n\n\n      if (helperIsFunction && helper[0] === this.element[0]) {\n        this._setPositionRelative();\n      }\n\n      if (helper[0] !== this.element[0] && !/(fixed|absolute)/.test(helper.css(\"position\"))) {\n        helper.css(\"position\", \"absolute\");\n      }\n\n      return helper;\n    },\n    _setPositionRelative: function () {\n      if (!/^(?:r|a|f)/.test(this.element.css(\"position\"))) {\n        this.element[0].style.position = \"relative\";\n      }\n    },\n    _adjustOffsetFromHelper: function (obj) {\n      if (typeof obj === \"string\") {\n        obj = obj.split(\" \");\n      }\n\n      if ($.isArray(obj)) {\n        obj = {\n          left: +obj[0],\n          top: +obj[1] || 0\n        };\n      }\n\n      if (\"left\" in obj) {\n        this.offset.click.left = obj.left + this.margins.left;\n      }\n\n      if (\"right\" in obj) {\n        this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n      }\n\n      if (\"top\" in obj) {\n        this.offset.click.top = obj.top + this.margins.top;\n      }\n\n      if (\"bottom\" in obj) {\n        this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n      }\n    },\n    _isRootNode: function (element) {\n      return /(html|body)/i.test(element.tagName) || element === this.document[0];\n    },\n    _getParentOffset: function () {\n      //Get the offsetParent and cache its position\n      var po = this.offsetParent.offset(),\n          document = this.document[0]; // This is a special case where we need to modify a offset calculated on start, since the\n      // following happened:\n      // 1. The position of the helper is absolute, so it's position is calculated based on the\n      // next positioned parent\n      // 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n      // the document, which means that the scroll is included in the initial calculation of the\n      // offset of the parent, and never recalculated upon drag\n\n      if (this.cssPosition === \"absolute\" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {\n        po.left += this.scrollParent.scrollLeft();\n        po.top += this.scrollParent.scrollTop();\n      }\n\n      if (this._isRootNode(this.offsetParent[0])) {\n        po = {\n          top: 0,\n          left: 0\n        };\n      }\n\n      return {\n        top: po.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"), 10) || 0),\n        left: po.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"), 10) || 0)\n      };\n    },\n    _getRelativeOffset: function () {\n      if (this.cssPosition !== \"relative\") {\n        return {\n          top: 0,\n          left: 0\n        };\n      }\n\n      var p = this.element.position(),\n          scrollIsRootNode = this._isRootNode(this.scrollParent[0]);\n\n      return {\n        top: p.top - (parseInt(this.helper.css(\"top\"), 10) || 0) + (!scrollIsRootNode ? this.scrollParent.scrollTop() : 0),\n        left: p.left - (parseInt(this.helper.css(\"left\"), 10) || 0) + (!scrollIsRootNode ? this.scrollParent.scrollLeft() : 0)\n      };\n    },\n    _cacheMargins: function () {\n      this.margins = {\n        left: parseInt(this.element.css(\"marginLeft\"), 10) || 0,\n        top: parseInt(this.element.css(\"marginTop\"), 10) || 0,\n        right: parseInt(this.element.css(\"marginRight\"), 10) || 0,\n        bottom: parseInt(this.element.css(\"marginBottom\"), 10) || 0\n      };\n    },\n    _cacheHelperProportions: function () {\n      this.helperProportions = {\n        width: this.helper.outerWidth(),\n        height: this.helper.outerHeight()\n      };\n    },\n    _setContainment: function () {\n      var isUserScrollable,\n          c,\n          ce,\n          o = this.options,\n          document = this.document[0];\n      this.relativeContainer = null;\n\n      if (!o.containment) {\n        this.containment = null;\n        return;\n      }\n\n      if (o.containment === \"window\") {\n        this.containment = [$(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, $(window).scrollLeft() + $(window).width() - this.helperProportions.width - this.margins.left, $(window).scrollTop() + ($(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];\n        return;\n      }\n\n      if (o.containment === \"document\") {\n        this.containment = [0, 0, $(document).width() - this.helperProportions.width - this.margins.left, ($(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];\n        return;\n      }\n\n      if (o.containment.constructor === Array) {\n        this.containment = o.containment;\n        return;\n      }\n\n      if (o.containment === \"parent\") {\n        o.containment = this.helper[0].parentNode;\n      }\n\n      c = $(o.containment);\n      ce = c[0];\n\n      if (!ce) {\n        return;\n      }\n\n      isUserScrollable = /(scroll|auto)/.test(c.css(\"overflow\"));\n      this.containment = [(parseInt(c.css(\"borderLeftWidth\"), 10) || 0) + (parseInt(c.css(\"paddingLeft\"), 10) || 0), (parseInt(c.css(\"borderTopWidth\"), 10) || 0) + (parseInt(c.css(\"paddingTop\"), 10) || 0), (isUserScrollable ? Math.max(ce.scrollWidth, ce.offsetWidth) : ce.offsetWidth) - (parseInt(c.css(\"borderRightWidth\"), 10) || 0) - (parseInt(c.css(\"paddingRight\"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (isUserScrollable ? Math.max(ce.scrollHeight, ce.offsetHeight) : ce.offsetHeight) - (parseInt(c.css(\"borderBottomWidth\"), 10) || 0) - (parseInt(c.css(\"paddingBottom\"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom];\n      this.relativeContainer = c;\n    },\n    _convertPositionTo: function (d, pos) {\n      if (!pos) {\n        pos = this.position;\n      }\n\n      var mod = d === \"absolute\" ? 1 : -1,\n          scrollIsRootNode = this._isRootNode(this.scrollParent[0]);\n\n      return {\n        top: // The absolute mouse position\n        pos.top + // Only for relative positioned nodes: Relative offset from element to offset parent\n        this.offset.relative.top * mod + // The offsetParent's offset without borders (offset + border)\n        this.offset.parent.top * mod - (this.cssPosition === \"fixed\" ? -this.offset.scroll.top : scrollIsRootNode ? 0 : this.offset.scroll.top) * mod,\n        left: // The absolute mouse position\n        pos.left + // Only for relative positioned nodes: Relative offset from element to offset parent\n        this.offset.relative.left * mod + // The offsetParent's offset without borders (offset + border)\n        this.offset.parent.left * mod - (this.cssPosition === \"fixed\" ? -this.offset.scroll.left : scrollIsRootNode ? 0 : this.offset.scroll.left) * mod\n      };\n    },\n    _generatePosition: function (event, constrainPosition) {\n      var containment,\n          co,\n          top,\n          left,\n          o = this.options,\n          scrollIsRootNode = this._isRootNode(this.scrollParent[0]),\n          pageX = event.pageX,\n          pageY = event.pageY; // Cache the scroll\n\n\n      if (!scrollIsRootNode || !this.offset.scroll) {\n        this.offset.scroll = {\n          top: this.scrollParent.scrollTop(),\n          left: this.scrollParent.scrollLeft()\n        };\n      }\n      /*\n       * - Position constraining -\n       * Constrain the position to a mix of grid, containment.\n       */\n      // If we are not dragging yet, we won't check for options\n\n\n      if (constrainPosition) {\n        if (this.containment) {\n          if (this.relativeContainer) {\n            co = this.relativeContainer.offset();\n            containment = [this.containment[0] + co.left, this.containment[1] + co.top, this.containment[2] + co.left, this.containment[3] + co.top];\n          } else {\n            containment = this.containment;\n          }\n\n          if (event.pageX - this.offset.click.left < containment[0]) {\n            pageX = containment[0] + this.offset.click.left;\n          }\n\n          if (event.pageY - this.offset.click.top < containment[1]) {\n            pageY = containment[1] + this.offset.click.top;\n          }\n\n          if (event.pageX - this.offset.click.left > containment[2]) {\n            pageX = containment[2] + this.offset.click.left;\n          }\n\n          if (event.pageY - this.offset.click.top > containment[3]) {\n            pageY = containment[3] + this.offset.click.top;\n          }\n        }\n\n        if (o.grid) {\n          //Check for grid elements set to 0 to prevent divide by 0 error causing invalid\n          // argument errors in IE (see ticket #6950)\n          top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;\n          pageY = containment ? top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3] ? top : top - this.offset.click.top >= containment[1] ? top - o.grid[1] : top + o.grid[1] : top;\n          left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;\n          pageX = containment ? left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2] ? left : left - this.offset.click.left >= containment[0] ? left - o.grid[0] : left + o.grid[0] : left;\n        }\n\n        if (o.axis === \"y\") {\n          pageX = this.originalPageX;\n        }\n\n        if (o.axis === \"x\") {\n          pageY = this.originalPageY;\n        }\n      }\n\n      return {\n        top: // The absolute mouse position\n        pageY - // Click offset (relative to the element)\n        this.offset.click.top - // Only for relative positioned nodes: Relative offset from element to offset parent\n        this.offset.relative.top - // The offsetParent's offset without borders (offset + border)\n        this.offset.parent.top + (this.cssPosition === \"fixed\" ? -this.offset.scroll.top : scrollIsRootNode ? 0 : this.offset.scroll.top),\n        left: // The absolute mouse position\n        pageX - // Click offset (relative to the element)\n        this.offset.click.left - // Only for relative positioned nodes: Relative offset from element to offset parent\n        this.offset.relative.left - // The offsetParent's offset without borders (offset + border)\n        this.offset.parent.left + (this.cssPosition === \"fixed\" ? -this.offset.scroll.left : scrollIsRootNode ? 0 : this.offset.scroll.left)\n      };\n    },\n    _clear: function () {\n      this._removeClass(this.helper, \"ui-draggable-dragging\");\n\n      if (this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {\n        this.helper.remove();\n      }\n\n      this.helper = null;\n      this.cancelHelperRemoval = false;\n\n      if (this.destroyOnClear) {\n        this.destroy();\n      }\n    },\n    // From now on bulk stuff - mainly helpers\n    _trigger: function (type, event, ui) {\n      ui = ui || this._uiHash();\n      $.ui.plugin.call(this, type, [event, ui, this], true); // Absolute position and offset (see #6884 ) have to be recalculated after plugins\n\n      if (/^(drag|start|stop)/.test(type)) {\n        this.positionAbs = this._convertPositionTo(\"absolute\");\n        ui.offset = this.positionAbs;\n      }\n\n      return $.Widget.prototype._trigger.call(this, type, event, ui);\n    },\n    plugins: {},\n    _uiHash: function () {\n      return {\n        helper: this.helper,\n        position: this.position,\n        originalPosition: this.originalPosition,\n        offset: this.positionAbs\n      };\n    }\n  });\n  $.ui.plugin.add(\"draggable\", \"connectToSortable\", {\n    start: function (event, ui, draggable) {\n      var uiSortable = $.extend({}, ui, {\n        item: draggable.element\n      });\n      draggable.sortables = [];\n      $(draggable.options.connectToSortable).each(function () {\n        var sortable = $(this).sortable(\"instance\");\n\n        if (sortable && !sortable.options.disabled) {\n          draggable.sortables.push(sortable); // RefreshPositions is called at drag start to refresh the containerCache\n          // which is used in drag. This ensures it's initialized and synchronized\n          // with any changes that might have happened on the page since initialization.\n\n          sortable.refreshPositions();\n\n          sortable._trigger(\"activate\", event, uiSortable);\n        }\n      });\n    },\n    stop: function (event, ui, draggable) {\n      var uiSortable = $.extend({}, ui, {\n        item: draggable.element\n      });\n      draggable.cancelHelperRemoval = false;\n      $.each(draggable.sortables, function () {\n        var sortable = this;\n\n        if (sortable.isOver) {\n          sortable.isOver = 0; // Allow this sortable to handle removing the helper\n\n          draggable.cancelHelperRemoval = true;\n          sortable.cancelHelperRemoval = false; // Use _storedCSS To restore properties in the sortable,\n          // as this also handles revert (#9675) since the draggable\n          // may have modified them in unexpected ways (#8809)\n\n          sortable._storedCSS = {\n            position: sortable.placeholder.css(\"position\"),\n            top: sortable.placeholder.css(\"top\"),\n            left: sortable.placeholder.css(\"left\")\n          };\n\n          sortable._mouseStop(event); // Once drag has ended, the sortable should return to using\n          // its original helper, not the shared helper from draggable\n\n\n          sortable.options.helper = sortable.options._helper;\n        } else {\n          // Prevent this Sortable from removing the helper.\n          // However, don't set the draggable to remove the helper\n          // either as another connected Sortable may yet handle the removal.\n          sortable.cancelHelperRemoval = true;\n\n          sortable._trigger(\"deactivate\", event, uiSortable);\n        }\n      });\n    },\n    drag: function (event, ui, draggable) {\n      $.each(draggable.sortables, function () {\n        var innermostIntersecting = false,\n            sortable = this; // Copy over variables that sortable's _intersectsWith uses\n\n        sortable.positionAbs = draggable.positionAbs;\n        sortable.helperProportions = draggable.helperProportions;\n        sortable.offset.click = draggable.offset.click;\n\n        if (sortable._intersectsWith(sortable.containerCache)) {\n          innermostIntersecting = true;\n          $.each(draggable.sortables, function () {\n            // Copy over variables that sortable's _intersectsWith uses\n            this.positionAbs = draggable.positionAbs;\n            this.helperProportions = draggable.helperProportions;\n            this.offset.click = draggable.offset.click;\n\n            if (this !== sortable && this._intersectsWith(this.containerCache) && $.contains(sortable.element[0], this.element[0])) {\n              innermostIntersecting = false;\n            }\n\n            return innermostIntersecting;\n          });\n        }\n\n        if (innermostIntersecting) {\n          // If it intersects, we use a little isOver variable and set it once,\n          // so that the move-in stuff gets fired only once.\n          if (!sortable.isOver) {\n            sortable.isOver = 1; // Store draggable's parent in case we need to reappend to it later.\n\n            draggable._parent = ui.helper.parent();\n            sortable.currentItem = ui.helper.appendTo(sortable.element).data(\"ui-sortable-item\", true); // Store helper option to later restore it\n\n            sortable.options._helper = sortable.options.helper;\n\n            sortable.options.helper = function () {\n              return ui.helper[0];\n            }; // Fire the start events of the sortable with our passed browser event,\n            // and our own helper (so it doesn't create a new one)\n\n\n            event.target = sortable.currentItem[0];\n\n            sortable._mouseCapture(event, true);\n\n            sortable._mouseStart(event, true, true); // Because the browser event is way off the new appended portlet,\n            // modify necessary variables to reflect the changes\n\n\n            sortable.offset.click.top = draggable.offset.click.top;\n            sortable.offset.click.left = draggable.offset.click.left;\n            sortable.offset.parent.left -= draggable.offset.parent.left - sortable.offset.parent.left;\n            sortable.offset.parent.top -= draggable.offset.parent.top - sortable.offset.parent.top;\n\n            draggable._trigger(\"toSortable\", event); // Inform draggable that the helper is in a valid drop zone,\n            // used solely in the revert option to handle \"valid/invalid\".\n\n\n            draggable.dropped = sortable.element; // Need to refreshPositions of all sortables in the case that\n            // adding to one sortable changes the location of the other sortables (#9675)\n\n            $.each(draggable.sortables, function () {\n              this.refreshPositions();\n            }); // Hack so receive/update callbacks work (mostly)\n\n            draggable.currentItem = draggable.element;\n            sortable.fromOutside = draggable;\n          }\n\n          if (sortable.currentItem) {\n            sortable._mouseDrag(event); // Copy the sortable's position because the draggable's can potentially reflect\n            // a relative position, while sortable is always absolute, which the dragged\n            // element has now become. (#8809)\n\n\n            ui.position = sortable.position;\n          }\n        } else {\n          // If it doesn't intersect with the sortable, and it intersected before,\n          // we fake the drag stop of the sortable, but make sure it doesn't remove\n          // the helper by using cancelHelperRemoval.\n          if (sortable.isOver) {\n            sortable.isOver = 0;\n            sortable.cancelHelperRemoval = true; // Calling sortable's mouseStop would trigger a revert,\n            // so revert must be temporarily false until after mouseStop is called.\n\n            sortable.options._revert = sortable.options.revert;\n            sortable.options.revert = false;\n\n            sortable._trigger(\"out\", event, sortable._uiHash(sortable));\n\n            sortable._mouseStop(event, true); // Restore sortable behaviors that were modfied\n            // when the draggable entered the sortable area (#9481)\n\n\n            sortable.options.revert = sortable.options._revert;\n            sortable.options.helper = sortable.options._helper;\n\n            if (sortable.placeholder) {\n              sortable.placeholder.remove();\n            } // Restore and recalculate the draggable's offset considering the sortable\n            // may have modified them in unexpected ways. (#8809, #10669)\n\n\n            ui.helper.appendTo(draggable._parent);\n\n            draggable._refreshOffsets(event);\n\n            ui.position = draggable._generatePosition(event, true);\n\n            draggable._trigger(\"fromSortable\", event); // Inform draggable that the helper is no longer in a valid drop zone\n\n\n            draggable.dropped = false; // Need to refreshPositions of all sortables just in case removing\n            // from one sortable changes the location of other sortables (#9675)\n\n            $.each(draggable.sortables, function () {\n              this.refreshPositions();\n            });\n          }\n        }\n      });\n    }\n  });\n  $.ui.plugin.add(\"draggable\", \"cursor\", {\n    start: function (event, ui, instance) {\n      var t = $(\"body\"),\n          o = instance.options;\n\n      if (t.css(\"cursor\")) {\n        o._cursor = t.css(\"cursor\");\n      }\n\n      t.css(\"cursor\", o.cursor);\n    },\n    stop: function (event, ui, instance) {\n      var o = instance.options;\n\n      if (o._cursor) {\n        $(\"body\").css(\"cursor\", o._cursor);\n      }\n    }\n  });\n  $.ui.plugin.add(\"draggable\", \"opacity\", {\n    start: function (event, ui, instance) {\n      var t = $(ui.helper),\n          o = instance.options;\n\n      if (t.css(\"opacity\")) {\n        o._opacity = t.css(\"opacity\");\n      }\n\n      t.css(\"opacity\", o.opacity);\n    },\n    stop: function (event, ui, instance) {\n      var o = instance.options;\n\n      if (o._opacity) {\n        $(ui.helper).css(\"opacity\", o._opacity);\n      }\n    }\n  });\n  $.ui.plugin.add(\"draggable\", \"scroll\", {\n    start: function (event, ui, i) {\n      if (!i.scrollParentNotHidden) {\n        i.scrollParentNotHidden = i.helper.scrollParent(false);\n      }\n\n      if (i.scrollParentNotHidden[0] !== i.document[0] && i.scrollParentNotHidden[0].tagName !== \"HTML\") {\n        i.overflowOffset = i.scrollParentNotHidden.offset();\n      }\n    },\n    drag: function (event, ui, i) {\n      var o = i.options,\n          scrolled = false,\n          scrollParent = i.scrollParentNotHidden[0],\n          document = i.document[0];\n\n      if (scrollParent !== document && scrollParent.tagName !== \"HTML\") {\n        if (!o.axis || o.axis !== \"x\") {\n          if (i.overflowOffset.top + scrollParent.offsetHeight - event.pageY < o.scrollSensitivity) {\n            scrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\n          } else if (event.pageY - i.overflowOffset.top < o.scrollSensitivity) {\n            scrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\n          }\n        }\n\n        if (!o.axis || o.axis !== \"y\") {\n          if (i.overflowOffset.left + scrollParent.offsetWidth - event.pageX < o.scrollSensitivity) {\n            scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\n          } else if (event.pageX - i.overflowOffset.left < o.scrollSensitivity) {\n            scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\n          }\n        }\n      } else {\n        if (!o.axis || o.axis !== \"x\") {\n          if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {\n            scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);\n          } else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {\n            scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);\n          }\n        }\n\n        if (!o.axis || o.axis !== \"y\") {\n          if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {\n            scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);\n          } else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {\n            scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);\n          }\n        }\n      }\n\n      if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {\n        $.ui.ddmanager.prepareOffsets(i, event);\n      }\n    }\n  });\n  $.ui.plugin.add(\"draggable\", \"snap\", {\n    start: function (event, ui, i) {\n      var o = i.options;\n      i.snapElements = [];\n      $(o.snap.constructor !== String ? o.snap.items || \":data(ui-draggable)\" : o.snap).each(function () {\n        var $t = $(this),\n            $o = $t.offset();\n\n        if (this !== i.element[0]) {\n          i.snapElements.push({\n            item: this,\n            width: $t.outerWidth(),\n            height: $t.outerHeight(),\n            top: $o.top,\n            left: $o.left\n          });\n        }\n      });\n    },\n    drag: function (event, ui, inst) {\n      var ts,\n          bs,\n          ls,\n          rs,\n          l,\n          r,\n          t,\n          b,\n          i,\n          first,\n          o = inst.options,\n          d = o.snapTolerance,\n          x1 = ui.offset.left,\n          x2 = x1 + inst.helperProportions.width,\n          y1 = ui.offset.top,\n          y2 = y1 + inst.helperProportions.height;\n\n      for (i = inst.snapElements.length - 1; i >= 0; i--) {\n        l = inst.snapElements[i].left - inst.margins.left;\n        r = l + inst.snapElements[i].width;\n        t = inst.snapElements[i].top - inst.margins.top;\n        b = t + inst.snapElements[i].height;\n\n        if (x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains(inst.snapElements[i].item.ownerDocument, inst.snapElements[i].item)) {\n          if (inst.snapElements[i].snapping) {\n            inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), {\n              snapItem: inst.snapElements[i].item\n            }));\n          }\n\n          inst.snapElements[i].snapping = false;\n          continue;\n        }\n\n        if (o.snapMode !== \"inner\") {\n          ts = Math.abs(t - y2) <= d;\n          bs = Math.abs(b - y1) <= d;\n          ls = Math.abs(l - x2) <= d;\n          rs = Math.abs(r - x1) <= d;\n\n          if (ts) {\n            ui.position.top = inst._convertPositionTo(\"relative\", {\n              top: t - inst.helperProportions.height,\n              left: 0\n            }).top;\n          }\n\n          if (bs) {\n            ui.position.top = inst._convertPositionTo(\"relative\", {\n              top: b,\n              left: 0\n            }).top;\n          }\n\n          if (ls) {\n            ui.position.left = inst._convertPositionTo(\"relative\", {\n              top: 0,\n              left: l - inst.helperProportions.width\n            }).left;\n          }\n\n          if (rs) {\n            ui.position.left = inst._convertPositionTo(\"relative\", {\n              top: 0,\n              left: r\n            }).left;\n          }\n        }\n\n        first = ts || bs || ls || rs;\n\n        if (o.snapMode !== \"outer\") {\n          ts = Math.abs(t - y1) <= d;\n          bs = Math.abs(b - y2) <= d;\n          ls = Math.abs(l - x1) <= d;\n          rs = Math.abs(r - x2) <= d;\n\n          if (ts) {\n            ui.position.top = inst._convertPositionTo(\"relative\", {\n              top: t,\n              left: 0\n            }).top;\n          }\n\n          if (bs) {\n            ui.position.top = inst._convertPositionTo(\"relative\", {\n              top: b - inst.helperProportions.height,\n              left: 0\n            }).top;\n          }\n\n          if (ls) {\n            ui.position.left = inst._convertPositionTo(\"relative\", {\n              top: 0,\n              left: l\n            }).left;\n          }\n\n          if (rs) {\n            ui.position.left = inst._convertPositionTo(\"relative\", {\n              top: 0,\n              left: r - inst.helperProportions.width\n            }).left;\n          }\n        }\n\n        if (!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {\n          inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), {\n            snapItem: inst.snapElements[i].item\n          }));\n        }\n\n        inst.snapElements[i].snapping = ts || bs || ls || rs || first;\n      }\n    }\n  });\n  $.ui.plugin.add(\"draggable\", \"stack\", {\n    start: function (event, ui, instance) {\n      var min,\n          o = instance.options,\n          group = $.makeArray($(o.stack)).sort(function (a, b) {\n        return (parseInt($(a).css(\"zIndex\"), 10) || 0) - (parseInt($(b).css(\"zIndex\"), 10) || 0);\n      });\n\n      if (!group.length) {\n        return;\n      }\n\n      min = parseInt($(group[0]).css(\"zIndex\"), 10) || 0;\n      $(group).each(function (i) {\n        $(this).css(\"zIndex\", min + i);\n      });\n      this.css(\"zIndex\", min + group.length);\n    }\n  });\n  $.ui.plugin.add(\"draggable\", \"zIndex\", {\n    start: function (event, ui, instance) {\n      var t = $(ui.helper),\n          o = instance.options;\n\n      if (t.css(\"zIndex\")) {\n        o._zIndex = t.css(\"zIndex\");\n      }\n\n      t.css(\"zIndex\", o.zIndex);\n    },\n    stop: function (event, ui, instance) {\n      var o = instance.options;\n\n      if (o._zIndex) {\n        $(ui.helper).css(\"zIndex\", o._zIndex);\n      }\n    }\n  });\n  return $.ui.draggable;\n});","map":{"version":3,"sources":["D:/我的项目/ReactDemo/node_modules/jquery-ui/ui/widgets/draggable.js"],"names":["factory","define","amd","jQuery","$","widget","ui","mouse","version","widgetEventPrefix","options","addClasses","appendTo","axis","connectToSortable","containment","cursor","cursorAt","grid","handle","helper","iframeFix","opacity","refreshPositions","revert","revertDuration","scope","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","zIndex","drag","start","stop","_create","_setPositionRelative","_addClass","_setHandleClassName","_mouseInit","_setOption","key","value","_super","_removeHandleClassName","_destroy","element","is","destroyOnClear","_mouseDestroy","_mouseCapture","event","o","disabled","target","closest","length","_getHandle","_blurActiveElement","_blockFrames","selector","iframeBlocks","document","find","map","iframe","css","parent","outerWidth","outerHeight","offset","_unblockFrames","remove","activeElement","safeActiveElement","safeBlur","_mouseStart","_createHelper","_cacheHelperProportions","ddmanager","current","_cacheMargins","cssPosition","scrollParent","offsetParent","hasFixedAncestor","parents","filter","positionAbs","_refreshOffsets","originalPosition","position","_generatePosition","originalPageX","pageX","originalPageY","pageY","_adjustOffsetFromHelper","_setContainment","_trigger","_clear","dropBehaviour","prepareOffsets","_mouseDrag","dragStart","top","margins","left","_getParentOffset","relative","_getRelativeOffset","click","noPropagation","_convertPositionTo","_uiHash","_mouseUp","Event","style","_mouseStop","that","dropped","drop","isFunction","call","animate","parseInt","dragStop","handleElement","trigger","prototype","cancel","_removeClass","helperIsFunction","apply","clone","removeAttr","parentNode","test","obj","split","isArray","helperProportions","width","right","height","bottom","_isRootNode","tagName","po","contains","scrollLeft","scrollTop","p","scrollIsRootNode","isUserScrollable","c","ce","relativeContainer","window","body","scrollHeight","constructor","Array","Math","max","scrollWidth","offsetWidth","offsetHeight","d","pos","mod","constrainPosition","co","round","cancelHelperRemoval","destroy","type","plugin","Widget","plugins","add","draggable","uiSortable","extend","item","sortables","each","sortable","push","isOver","_storedCSS","placeholder","_helper","innermostIntersecting","_intersectsWith","containerCache","_parent","currentItem","data","fromOutside","_revert","instance","t","_cursor","_opacity","i","scrollParentNotHidden","overflowOffset","scrolled","snapElements","String","items","$t","$o","inst","ts","bs","ls","rs","l","r","b","first","x1","x2","y1","y2","ownerDocument","snapping","release","snapItem","abs","min","group","makeArray","sort","a","_zIndex"],"mappings":"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","sourcesContent":["/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Draggable\n//>>group: Interactions\n//>>description: Enables dragging functionality for any element.\n//>>docs: http://api.jqueryui.com/draggable/\n//>>demos: http://jqueryui.com/draggable/\n//>>css.structure: ../../themes/base/draggable.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../data\",\n\t\t\t\"../plugin\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../safe-blur\",\n\t\t\t\"../scroll-parent\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.draggable\", $.ui.mouse, {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false,\n\n\t\t// Callbacks\n\t\tdrag: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\t_create: function() {\n\n\t\tif ( this.options.helper === \"original\" ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\t\tif ( this.options.addClasses ) {\n\t\t\tthis._addClass( \"ui-draggable\" );\n\t\t}\n\t\tthis._setHandleClassName();\n\n\t\tthis._mouseInit();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"handle\" ) {\n\t\t\tthis._removeHandleClassName();\n\t\t\tthis._setHandleClassName();\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tif ( ( this.helper || this.element ).is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis.destroyOnClear = true;\n\t\t\treturn;\n\t\t}\n\t\tthis._removeHandleClassName();\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar o = this.options;\n\n\t\t// Among others, prevent a drag on a resizable-handle\n\t\tif ( this.helper || o.disabled ||\n\t\t\t\t$( event.target ).closest( \".ui-resizable-handle\" ).length > 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle( event );\n\t\tif ( !this.handle ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._blurActiveElement( event );\n\n\t\tthis._blockFrames( o.iframeFix === true ? \"iframe\" : o.iframeFix );\n\n\t\treturn true;\n\n\t},\n\n\t_blockFrames: function( selector ) {\n\t\tthis.iframeBlocks = this.document.find( selector ).map( function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css( \"position\", \"absolute\" )\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.outerWidth( iframe.outerWidth() )\n\t\t\t\t.outerHeight( iframe.outerHeight() )\n\t\t\t\t.offset( iframe.offset() )[ 0 ];\n\t\t} );\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_blurActiveElement: function( event ) {\n\t\tvar activeElement = $.ui.safeActiveElement( this.document[ 0 ] ),\n\t\t\ttarget = $( event.target );\n\n\t\t// Don't blur if the event occurred on an element that is within\n\t\t// the currently focused element\n\t\t// See #10527, #12472\n\t\tif ( target.closest( activeElement ).length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Blur any element that currently has focus, see #4261\n\t\t$.ui.safeBlur( activeElement );\n\t},\n\n\t_mouseStart: function( event ) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper( event );\n\n\t\tthis._addClass( this.helper, \"ui-draggable-dragging\" );\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\t\tthis.scrollParent = this.helper.scrollParent( true );\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tthis.hasFixedAncestor = this.helper.parents().filter( function() {\n\t\t\t\treturn $( this ).css( \"position\" ) === \"fixed\";\n\t\t\t} ).length > 0;\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.positionAbs = this.element.offset();\n\t\tthis._refreshOffsets( event );\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition( event, false );\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\n\n\t\t//Set a containment if given in the options\n\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif ( this._trigger( \"start\", event ) === false ) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ( $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t}\n\n\t\t// Execute the drag once - this causes the helper not to be visible before getting its\n\t\t// correct position\n\t\tthis._mouseDrag( event, true );\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has started\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStart( this, event );\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t_refreshOffsets: function( event ) {\n\t\tthis.offset = {\n\t\t\ttop: this.positionAbs.top - this.margins.top,\n\t\t\tleft: this.positionAbs.left - this.margins.left,\n\t\t\tscroll: false,\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset()\n\t\t};\n\n\t\tthis.offset.click = {\n\t\t\tleft: event.pageX - this.offset.left,\n\t\t\ttop: event.pageY - this.offset.top\n\t\t};\n\t},\n\n\t_mouseDrag: function( event, noPropagation ) {\n\n\t\t// reset any necessary cached properties (see #5009)\n\t\tif ( this.hasFixedAncestor ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition( event, true );\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif ( !noPropagation ) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif ( this._trigger( \"drag\", event, ui ) === false ) {\n\t\t\t\tthis._mouseUp( new $.Event( \"mouseup\", event ) );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\n\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\n\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.drag( this, event );\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar that = this,\n\t\t\tdropped = false;\n\t\tif ( $.ui.ddmanager && !this.options.dropBehaviour ) {\n\t\t\tdropped = $.ui.ddmanager.drop( this, event );\n\t\t}\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif ( this.dropped ) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\n\t\tif ( ( this.options.revert === \"invalid\" && !dropped ) ||\n\t\t\t\t( this.options.revert === \"valid\" && dropped ) ||\n\t\t\t\tthis.options.revert === true || ( $.isFunction( this.options.revert ) &&\n\t\t\t\tthis.options.revert.call( this.element, dropped ) )\n\t\t) {\n\t\t\t$( this.helper ).animate(\n\t\t\t\tthis.originalPosition,\n\t\t\t\tparseInt( this.options.revertDuration, 10 ),\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( that._trigger( \"stop\", event ) !== false ) {\n\t\t\t\t\t\tthat._clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tif ( this._trigger( \"stop\", event ) !== false ) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis._unblockFrames();\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has stopped\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStop( this, event );\n\t\t}\n\n\t\t// Only need to focus if the event occurred on the draggable itself, see #10527\n\t\tif ( this.handleElement.is( event.target ) ) {\n\n\t\t\t// The interaction is over; whether or not the click resulted in a drag,\n\t\t\t// focus the element\n\t\t\tthis.element.trigger( \"focus\" );\n\t\t}\n\n\t\treturn $.ui.mouse.prototype._mouseUp.call( this, event );\n\t},\n\n\tcancel: function() {\n\n\t\tif ( this.helper.is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis._mouseUp( new $.Event( \"mouseup\", { target: this.element[ 0 ] } ) );\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t_getHandle: function( event ) {\n\t\treturn this.options.handle ?\n\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\n\t\t\ttrue;\n\t},\n\n\t_setHandleClassName: function() {\n\t\tthis.handleElement = this.options.handle ?\n\t\t\tthis.element.find( this.options.handle ) : this.element;\n\t\tthis._addClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_removeHandleClassName: function() {\n\t\tthis._removeClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_createHelper: function( event ) {\n\n\t\tvar o = this.options,\n\t\t\thelperIsFunction = $.isFunction( o.helper ),\n\t\t\thelper = helperIsFunction ?\n\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :\n\t\t\t\t( o.helper === \"clone\" ?\n\t\t\t\t\tthis.element.clone().removeAttr( \"id\" ) :\n\t\t\t\t\tthis.element );\n\n\t\tif ( !helper.parents( \"body\" ).length ) {\n\t\t\thelper.appendTo( ( o.appendTo === \"parent\" ?\n\t\t\t\tthis.element[ 0 ].parentNode :\n\t\t\t\to.appendTo ) );\n\t\t}\n\n\t\t// Http://bugs.jqueryui.com/ticket/9446\n\t\t// a helper function can return the original element\n\t\t// which wouldn't have been set to relative in _create\n\t\tif ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\n\t\tif ( helper[ 0 ] !== this.element[ 0 ] &&\n\t\t\t\t!( /(fixed|absolute)/ ).test( helper.css( \"position\" ) ) ) {\n\t\t\thelper.css( \"position\", \"absolute\" );\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_setPositionRelative: function() {\n\t\tif ( !( /^(?:r|a|f)/ ).test( this.element.css( \"position\" ) ) ) {\n\t\t\tthis.element[ 0 ].style.position = \"relative\";\n\t\t}\n\t},\n\n\t_adjustOffsetFromHelper: function( obj ) {\n\t\tif ( typeof obj === \"string\" ) {\n\t\t\tobj = obj.split( \" \" );\n\t\t}\n\t\tif ( $.isArray( obj ) ) {\n\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\n\t\t}\n\t\tif ( \"left\" in obj ) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ( \"right\" in obj ) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ( \"top\" in obj ) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ( \"bottom\" in obj ) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_isRootNode: function( element ) {\n\t\treturn ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tvar po = this.offsetParent.offset(),\n\t\t\tdocument = this.document[ 0 ];\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the\n\t\t// following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\n\t\t// next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n\t\t// the document, which means that the scroll is included in the initial calculation of the\n\t\t// offset of the parent, and never recalculated upon drag\n\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== document &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif ( this._isRootNode( this.offsetParent[ 0 ] ) ) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\n\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\t\tif ( this.cssPosition !== \"relative\" ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\tvar p = this.element.position(),\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),\n\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )\n\t\t};\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: ( parseInt( this.element.css( \"marginLeft\" ), 10 ) || 0 ),\n\t\t\ttop: ( parseInt( this.element.css( \"marginTop\" ), 10 ) || 0 ),\n\t\t\tright: ( parseInt( this.element.css( \"marginRight\" ), 10 ) || 0 ),\n\t\t\tbottom: ( parseInt( this.element.css( \"marginBottom\" ), 10 ) || 0 )\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar isUserScrollable, c, ce,\n\t\t\to = this.options,\n\t\t\tdocument = this.document[ 0 ];\n\n\t\tthis.relativeContainer = null;\n\n\t\tif ( !o.containment ) {\n\t\t\tthis.containment = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$( window ).scrollLeft() + $( window ).width() -\n\t\t\t\t\tthis.helperProportions.width - this.margins.left,\n\t\t\t\t$( window ).scrollTop() +\n\t\t\t\t\t( $( window ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"document\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment.constructor === Array ) {\n\t\t\tthis.containment = o.containment;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\n\t\tc = $( o.containment );\n\t\tce = c[ 0 ];\n\n\t\tif ( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tisUserScrollable = /(scroll|auto)/.test( c.css( \"overflow\" ) );\n\n\t\tthis.containment = [\n\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\n\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ),\n\t\t\t( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\n\t\t\t\t( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.width -\n\t\t\t\tthis.margins.left -\n\t\t\t\tthis.margins.right,\n\t\t\t( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\n\t\t\t\t( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.height -\n\t\t\t\tthis.margins.top -\n\t\t\t\tthis.margins.bottom\n\t\t];\n\t\tthis.relativeContainer = c;\n\t},\n\n\t_convertPositionTo: function( d, pos ) {\n\n\t\tif ( !pos ) {\n\t\t\tpos = this.position;\n\t\t}\n\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.top\t+\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top * mod -\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.left +\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left * mod\t-\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function( event, constrainPosition ) {\n\n\t\tvar containment, co, top, left,\n\t\t\to = this.options,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY;\n\n\t\t// Cache the scroll\n\t\tif ( !scrollIsRootNode || !this.offset.scroll ) {\n\t\t\tthis.offset.scroll = {\n\t\t\t\ttop: this.scrollParent.scrollTop(),\n\t\t\t\tleft: this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\t// If we are not dragging yet, we won't check for options\n\t\tif ( constrainPosition ) {\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( this.relativeContainer ) {\n\t\t\t\t\tco = this.relativeContainer.offset();\n\t\t\t\t\tcontainment = [\n\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\n\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 3 ] + co.top\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcontainment = this.containment;\n\t\t\t\t}\n\n\t\t\t\tif ( event.pageX - this.offset.click.left < containment[ 0 ] ) {\n\t\t\t\t\tpageX = containment[ 0 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top < containment[ 1 ] ) {\n\t\t\t\t\tpageY = containment[ 1 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif ( event.pageX - this.offset.click.left > containment[ 2 ] ) {\n\t\t\t\t\tpageX = containment[ 2 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top > containment[ 3 ] ) {\n\t\t\t\t\tpageY = containment[ 3 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( o.grid ) {\n\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\n\t\t\t\t// argument errors in IE (see ticket #6950)\n\t\t\t\ttop = o.grid[ 1 ] ? this.originalPageY + Math.round( ( pageY -\n\t\t\t\t\tthis.originalPageY ) / o.grid[ 1 ] ) * o.grid[ 1 ] : this.originalPageY;\n\t\t\t\tpageY = containment ? ( ( top - this.offset.click.top >= containment[ 1 ] ||\n\t\t\t\t\ttop - this.offset.click.top > containment[ 3 ] ) ?\n\t\t\t\t\t\ttop :\n\t\t\t\t\t\t( ( top - this.offset.click.top >= containment[ 1 ] ) ?\n\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) : top;\n\n\t\t\t\tleft = o.grid[ 0 ] ? this.originalPageX +\n\t\t\t\t\tMath.round( ( pageX - this.originalPageX ) / o.grid[ 0 ] ) * o.grid[ 0 ] :\n\t\t\t\t\tthis.originalPageX;\n\t\t\t\tpageX = containment ? ( ( left - this.offset.click.left >= containment[ 0 ] ||\n\t\t\t\t\tleft - this.offset.click.left > containment[ 2 ] ) ?\n\t\t\t\t\t\tleft :\n\t\t\t\t\t\t( ( left - this.offset.click.left >= containment[ 0 ] ) ?\n\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) : left;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"y\" ) {\n\t\t\t\tpageX = this.originalPageX;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"x\" ) {\n\t\t\t\tpageY = this.originalPageY;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageY -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.top -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageX -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.left -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis._removeClass( this.helper, \"ui-draggable-dragging\" );\n\t\tif ( this.helper[ 0 ] !== this.element[ 0 ] && !this.cancelHelperRemoval ) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t\tif ( this.destroyOnClear ) {\n\t\t\tthis.destroy();\n\t\t}\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function( type, event, ui ) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call( this, type, [ event, ui, this ], true );\n\n\t\t// Absolute position and offset (see #6884 ) have to be recalculated after plugins\n\t\tif ( /^(drag|start|stop)/.test( type ) ) {\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\t\t\tui.offset = this.positionAbs;\n\t\t}\n\t\treturn $.Widget.prototype._trigger.call( this, type, event, ui );\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function() {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n} );\n\n$.ui.plugin.add( \"draggable\", \"connectToSortable\", {\n\tstart: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.sortables = [];\n\t\t$( draggable.options.connectToSortable ).each( function() {\n\t\t\tvar sortable = $( this ).sortable( \"instance\" );\n\n\t\t\tif ( sortable && !sortable.options.disabled ) {\n\t\t\t\tdraggable.sortables.push( sortable );\n\n\t\t\t\t// RefreshPositions is called at drag start to refresh the containerCache\n\t\t\t\t// which is used in drag. This ensures it's initialized and synchronized\n\t\t\t\t// with any changes that might have happened on the page since initialization.\n\t\t\t\tsortable.refreshPositions();\n\t\t\t\tsortable._trigger( \"activate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tstop: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.cancelHelperRemoval = false;\n\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar sortable = this;\n\n\t\t\tif ( sortable.isOver ) {\n\t\t\t\tsortable.isOver = 0;\n\n\t\t\t\t// Allow this sortable to handle removing the helper\n\t\t\t\tdraggable.cancelHelperRemoval = true;\n\t\t\t\tsortable.cancelHelperRemoval = false;\n\n\t\t\t\t// Use _storedCSS To restore properties in the sortable,\n\t\t\t\t// as this also handles revert (#9675) since the draggable\n\t\t\t\t// may have modified them in unexpected ways (#8809)\n\t\t\t\tsortable._storedCSS = {\n\t\t\t\t\tposition: sortable.placeholder.css( \"position\" ),\n\t\t\t\t\ttop: sortable.placeholder.css( \"top\" ),\n\t\t\t\t\tleft: sortable.placeholder.css( \"left\" )\n\t\t\t\t};\n\n\t\t\t\tsortable._mouseStop( event );\n\n\t\t\t\t// Once drag has ended, the sortable should return to using\n\t\t\t\t// its original helper, not the shared helper from draggable\n\t\t\t\tsortable.options.helper = sortable.options._helper;\n\t\t\t} else {\n\n\t\t\t\t// Prevent this Sortable from removing the helper.\n\t\t\t\t// However, don't set the draggable to remove the helper\n\t\t\t\t// either as another connected Sortable may yet handle the removal.\n\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\tsortable._trigger( \"deactivate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tdrag: function( event, ui, draggable ) {\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar innermostIntersecting = false,\n\t\t\t\tsortable = this;\n\n\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\tsortable.positionAbs = draggable.positionAbs;\n\t\t\tsortable.helperProportions = draggable.helperProportions;\n\t\t\tsortable.offset.click = draggable.offset.click;\n\n\t\t\tif ( sortable._intersectsWith( sortable.containerCache ) ) {\n\t\t\t\tinnermostIntersecting = true;\n\n\t\t\t\t$.each( draggable.sortables, function() {\n\n\t\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\t\t\tthis.positionAbs = draggable.positionAbs;\n\t\t\t\t\tthis.helperProportions = draggable.helperProportions;\n\t\t\t\t\tthis.offset.click = draggable.offset.click;\n\n\t\t\t\t\tif ( this !== sortable &&\n\t\t\t\t\t\t\tthis._intersectsWith( this.containerCache ) &&\n\t\t\t\t\t\t\t$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {\n\t\t\t\t\t\tinnermostIntersecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn innermostIntersecting;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( innermostIntersecting ) {\n\n\t\t\t\t// If it intersects, we use a little isOver variable and set it once,\n\t\t\t\t// so that the move-in stuff gets fired only once.\n\t\t\t\tif ( !sortable.isOver ) {\n\t\t\t\t\tsortable.isOver = 1;\n\n\t\t\t\t\t// Store draggable's parent in case we need to reappend to it later.\n\t\t\t\t\tdraggable._parent = ui.helper.parent();\n\n\t\t\t\t\tsortable.currentItem = ui.helper\n\t\t\t\t\t\t.appendTo( sortable.element )\n\t\t\t\t\t\t.data( \"ui-sortable-item\", true );\n\n\t\t\t\t\t// Store helper option to later restore it\n\t\t\t\t\tsortable.options._helper = sortable.options.helper;\n\n\t\t\t\t\tsortable.options.helper = function() {\n\t\t\t\t\t\treturn ui.helper[ 0 ];\n\t\t\t\t\t};\n\n\t\t\t\t\t// Fire the start events of the sortable with our passed browser event,\n\t\t\t\t\t// and our own helper (so it doesn't create a new one)\n\t\t\t\t\tevent.target = sortable.currentItem[ 0 ];\n\t\t\t\t\tsortable._mouseCapture( event, true );\n\t\t\t\t\tsortable._mouseStart( event, true, true );\n\n\t\t\t\t\t// Because the browser event is way off the new appended portlet,\n\t\t\t\t\t// modify necessary variables to reflect the changes\n\t\t\t\t\tsortable.offset.click.top = draggable.offset.click.top;\n\t\t\t\t\tsortable.offset.click.left = draggable.offset.click.left;\n\t\t\t\t\tsortable.offset.parent.left -= draggable.offset.parent.left -\n\t\t\t\t\t\tsortable.offset.parent.left;\n\t\t\t\t\tsortable.offset.parent.top -= draggable.offset.parent.top -\n\t\t\t\t\t\tsortable.offset.parent.top;\n\n\t\t\t\t\tdraggable._trigger( \"toSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is in a valid drop zone,\n\t\t\t\t\t// used solely in the revert option to handle \"valid/invalid\".\n\t\t\t\t\tdraggable.dropped = sortable.element;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables in the case that\n\t\t\t\t\t// adding to one sortable changes the location of the other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Hack so receive/update callbacks work (mostly)\n\t\t\t\t\tdraggable.currentItem = draggable.element;\n\t\t\t\t\tsortable.fromOutside = draggable;\n\t\t\t\t}\n\n\t\t\t\tif ( sortable.currentItem ) {\n\t\t\t\t\tsortable._mouseDrag( event );\n\n\t\t\t\t\t// Copy the sortable's position because the draggable's can potentially reflect\n\t\t\t\t\t// a relative position, while sortable is always absolute, which the dragged\n\t\t\t\t\t// element has now become. (#8809)\n\t\t\t\t\tui.position = sortable.position;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t// we fake the drag stop of the sortable, but make sure it doesn't remove\n\t\t\t\t// the helper by using cancelHelperRemoval.\n\t\t\t\tif ( sortable.isOver ) {\n\n\t\t\t\t\tsortable.isOver = 0;\n\t\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\t\t// Calling sortable's mouseStop would trigger a revert,\n\t\t\t\t\t// so revert must be temporarily false until after mouseStop is called.\n\t\t\t\t\tsortable.options._revert = sortable.options.revert;\n\t\t\t\t\tsortable.options.revert = false;\n\n\t\t\t\t\tsortable._trigger( \"out\", event, sortable._uiHash( sortable ) );\n\t\t\t\t\tsortable._mouseStop( event, true );\n\n\t\t\t\t\t// Restore sortable behaviors that were modfied\n\t\t\t\t\t// when the draggable entered the sortable area (#9481)\n\t\t\t\t\tsortable.options.revert = sortable.options._revert;\n\t\t\t\t\tsortable.options.helper = sortable.options._helper;\n\n\t\t\t\t\tif ( sortable.placeholder ) {\n\t\t\t\t\t\tsortable.placeholder.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore and recalculate the draggable's offset considering the sortable\n\t\t\t\t\t// may have modified them in unexpected ways. (#8809, #10669)\n\t\t\t\t\tui.helper.appendTo( draggable._parent );\n\t\t\t\t\tdraggable._refreshOffsets( event );\n\t\t\t\t\tui.position = draggable._generatePosition( event, true );\n\n\t\t\t\t\tdraggable._trigger( \"fromSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is no longer in a valid drop zone\n\t\t\t\t\tdraggable.dropped = false;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables just in case removing\n\t\t\t\t\t// from one sortable changes the location of other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"cursor\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( \"body\" ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"cursor\" ) ) {\n\t\t\to._cursor = t.css( \"cursor\" );\n\t\t}\n\t\tt.css( \"cursor\", o.cursor );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._cursor ) {\n\t\t\t$( \"body\" ).css( \"cursor\", o._cursor );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"opacity\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\t\tif ( t.css( \"opacity\" ) ) {\n\t\t\to._opacity = t.css( \"opacity\" );\n\t\t}\n\t\tt.css( \"opacity\", o.opacity );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._opacity ) {\n\t\t\t$( ui.helper ).css( \"opacity\", o._opacity );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"scroll\", {\n\tstart: function( event, ui, i ) {\n\t\tif ( !i.scrollParentNotHidden ) {\n\t\t\ti.scrollParentNotHidden = i.helper.scrollParent( false );\n\t\t}\n\n\t\tif ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] &&\n\t\t\t\ti.scrollParentNotHidden[ 0 ].tagName !== \"HTML\" ) {\n\t\t\ti.overflowOffset = i.scrollParentNotHidden.offset();\n\t\t}\n\t},\n\tdrag: function( event, ui, i  ) {\n\n\t\tvar o = i.options,\n\t\t\tscrolled = false,\n\t\t\tscrollParent = i.scrollParentNotHidden[ 0 ],\n\t\t\tdocument = i.document[ 0 ];\n\n\t\tif ( scrollParent !== document && scrollParent.tagName !== \"HTML\" ) {\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( event.pageY - $( document ).scrollTop() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() - o.scrollSpeed );\n\t\t\t\t} else if ( $( window ).height() - ( event.pageY - $( document ).scrollTop() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() + o.scrollSpeed );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( event.pageX - $( document ).scrollLeft() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() - o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t} else if ( $( window ).width() - ( event.pageX - $( document ).scrollLeft() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() + o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( i, event );\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"snap\", {\n\tstart: function( event, ui, i ) {\n\n\t\tvar o = i.options;\n\n\t\ti.snapElements = [];\n\n\t\t$( o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap )\n\t\t\t.each( function() {\n\t\t\t\tvar $t = $( this ),\n\t\t\t\t\t$o = $t.offset();\n\t\t\t\tif ( this !== i.element[ 0 ] ) {\n\t\t\t\t\ti.snapElements.push( {\n\t\t\t\t\t\titem: this,\n\t\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t},\n\tdrag: function( event, ui, inst ) {\n\n\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\n\t\t\to = inst.options,\n\t\t\td = o.snapTolerance,\n\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor ( i = inst.snapElements.length - 1; i >= 0; i-- ) {\n\n\t\t\tl = inst.snapElements[ i ].left - inst.margins.left;\n\t\t\tr = l + inst.snapElements[ i ].width;\n\t\t\tt = inst.snapElements[ i ].top - inst.margins.top;\n\t\t\tb = t + inst.snapElements[ i ].height;\n\n\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d ||\n\t\t\t\t\t!$.contains( inst.snapElements[ i ].item.ownerDocument,\n\t\t\t\t\tinst.snapElements[ i ].item ) ) {\n\t\t\t\tif ( inst.snapElements[ i ].snapping ) {\n\t\t\t\t\t( inst.options.snap.release &&\n\t\t\t\t\t\tinst.options.snap.release.call(\n\t\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\t\tevent,\n\t\t\t\t\t\t\t$.extend( inst._uiHash(), { snapItem: inst.snapElements[ i ].item } )\n\t\t\t\t\t\t) );\n\t\t\t\t}\n\t\t\t\tinst.snapElements[ i ].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( o.snapMode !== \"inner\" ) {\n\t\t\t\tts = Math.abs( t - y2 ) <= d;\n\t\t\t\tbs = Math.abs( b - y1 ) <= d;\n\t\t\t\tls = Math.abs( l - x2 ) <= d;\n\t\t\t\trs = Math.abs( r - x1 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirst = ( ts || bs || ls || rs );\n\n\t\t\tif ( o.snapMode !== \"outer\" ) {\n\t\t\t\tts = Math.abs( t - y1 ) <= d;\n\t\t\t\tbs = Math.abs( b - y2 ) <= d;\n\t\t\t\tls = Math.abs( l - x1 ) <= d;\n\t\t\t\trs = Math.abs( r - x2 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !inst.snapElements[ i ].snapping && ( ts || bs || ls || rs || first ) ) {\n\t\t\t\t( inst.options.snap.snap &&\n\t\t\t\t\tinst.options.snap.snap.call(\n\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\t$.extend( inst._uiHash(), {\n\t\t\t\t\t\t\tsnapItem: inst.snapElements[ i ].item\n\t\t\t\t\t\t} ) ) );\n\t\t\t}\n\t\t\tinst.snapElements[ i ].snapping = ( ts || bs || ls || rs || first );\n\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"stack\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar min,\n\t\t\to = instance.options,\n\t\t\tgroup = $.makeArray( $( o.stack ) ).sort( function( a, b ) {\n\t\t\t\treturn ( parseInt( $( a ).css( \"zIndex\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( b ).css( \"zIndex\" ), 10 ) || 0 );\n\t\t\t} );\n\n\t\tif ( !group.length ) { return; }\n\n\t\tmin = parseInt( $( group[ 0 ] ).css( \"zIndex\" ), 10 ) || 0;\n\t\t$( group ).each( function( i ) {\n\t\t\t$( this ).css( \"zIndex\", min + i );\n\t\t} );\n\t\tthis.css( \"zIndex\", ( min + group.length ) );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"zIndex\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"zIndex\" ) ) {\n\t\t\to._zIndex = t.css( \"zIndex\" );\n\t\t}\n\t\tt.css( \"zIndex\", o.zIndex );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\n\t\tif ( o._zIndex ) {\n\t\t\t$( ui.helper ).css( \"zIndex\", o._zIndex );\n\t\t}\n\t}\n} );\n\nreturn $.ui.draggable;\n\n} ) );\n"]},"metadata":{},"sourceType":"script"}